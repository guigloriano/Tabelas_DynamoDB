source('C:/Users/LSCAD/Desktop/teste.R')
help(str_pad)
str_pad
library(dplyr)
library(readr)
library(stringr)
source('C:/Users/LSCAD/Desktop/teste.R')
source('C:/Users/LSCAD/Desktop/teste.R')
library(dplyr)
library(readr)
library(stringr)
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/hora_corrigida/")
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/hora_corrigida/")
#pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
#pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
namesSta <- list.files(pattern = "*.csv")
i = 1
dfestacao <- filesSta[i]
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
namesSta <- list.files(pattern = "*.csv")
filesSta <- paste(pathSta, "/", namesSta, sep = "")
dfestacao <- filesSta[i]
dfinversor <- filesInv[i]
x <- readr::read_csv(dfestacao, col_types = cols(hora_minuto = col_character()))
y <- readr::read_csv(dfinversor, col_types = cols(hora_minuto = col_character()))
x_est <- readr::read_csv(dfestacao, col_types = cols(hora_minuto = col_character()))
y_inv <- readr::read_csv(dfinversor, col_types = cols(hora_minuto = col_character()))
x_est$hora_minuto <- str_pad(x$hora_minuto, width=6, side="left", pad="0")
x_est$hora_minuto <- str_pad(x_est$hora_minuto, width=6, side="left", pad="0")
x_est$hora_minuto <- as.character(x_est$hora_minuto)
y_inv$hora_minuto <- str_pad(y_inv$hora_minuto, width=6, side="left", pad="0")
y_inv$hora_minuto <- as.character(y_inv$hora_minuto)
z <- merge.data.frame(x = x_est, y = y_inv)
View(x_est)
View(y_inv)
View(z)
z <- merge.data.frame(x = x_est, y = y_inv, all = TRUE)
x_est$hora_minuto <- str_pad(x_est$hora_minuto, width=6, side="left", pad="0")
x_est$hora_minuto <- as.character(x_est$hora_minuto)
y_inv$hora_minuto <- str_pad(y_inv$hora_minuto, width=6, side="left", pad="0")
y_inv$hora_minuto <- as.character(y_inv$hora_minuto)
z_merge <- merge.data.frame(x = x_est, y = y_inv, all = TRUE)
z_merge$P_DC = z_merge$I_DC * z_merge$V_DC
pathDest <- "D:/"
fileDest <- paste(pathDest,  "teste_lm", ".csv", sep = "")
write_csv(z_merge, fileDest)
