caminho_CSV <- "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/"
file_list <- list.files(path=caminho_CSV)
View(file_list)
file_list <- list.files(path=caminho_CSV)
arq <- "ambientais-cg-20191026.csv"
arquivos <- list.files(path=caminho_CSV)
dataset <- data.frame()
lapply(arquivos, function(x) {
todos_arquivos <- read.table(x, header=TRUE) # load file
# apply function
out <- function(t)
# write to file
write.table(out, "path/to/output", sep="\t", quote=FALSE, row.names=FALSE, col.names=TRUE)
})
lapply(arquivos, function(x) {
todos_arquivos <- read.table(x, header=TRUE) # load file
# apply function
out <- function(t)
# write to file
write_csv(out, caminho_CSV, sep="\t", quote=FALSE, row.names=FALSE, col.names=TRUE)
})
lapply(arquivos, function(x) {
todos_arquivos <- read.table(x, header=TRUE) # load file
# apply function
out <- function(t)
# write to file
write_csv(out, "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/", sep="\t", quote=FALSE, row.names=FALSE, col.names=TRUE)
})
lapply(arquivos, function(x) {
todos_arquivos <- read.table(x, header=TRUE) # load file
# apply function
out <- function(t)
# write to file
write_csv(out, "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/teste.csv", sep="\t", quote=FALSE, row.names=FALSE, col.names=TRUE)
})
lapply(arquivos, function(x) {
todos_arquivos <- read.table(x, header=TRUE) # load file
# apply function
out <- function(t)
# write to file
write_csv(out, '~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/teste.csv', sep="\t", quote=FALSE, row.names=FALSE, col.names=TRUE)
})
lapply(arquivos, function(x) {
todos_arquivos <- read.table(x, header=TRUE) # load file
# apply function
out <- function(t)
# write to file
write_csv(out, caminho_CSV, sep="\t", quote=FALSE, row.names=FALSE, col.names=TRUE)
})
lapply(arquivos, function(x) {
todos_arquivos <- read.table(x, header=TRUE) # load file
# apply function
out <- function(t)
# write to file
write_csv(y,'~/Projeto/Tabelas_DynamoDB/ambientais_diarios_15min/teste/Medias_AmbientaisCG_20191026.csv')
})
todos_arquivos <- read.table(x, header=TRUE) # load file
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
g <- dplyr::group_by(x, data, h = substr(hora, 1, 2),
m = floor(as.numeric(substr(hora, 4, 5))/15))
filename <- system("~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/",intern=TRUE)
library(dplyr)
library(magrittr)
library(readr)
library(stringr)
caminho_CSV <- "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/ambientais-cg-20191003.csv"
filename <- system("ls /dir/",intern=TRUE)
filenames = dir(pattern="*.nex")
dirs <- list.dirs(caminho_CSV, full.names = TRUE, recursive = TRUE)
caminho_CSV <- "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/ambientais-cg-20191003.csv"
dirs <- list.dirs(caminho_CSV, full.names = TRUE, recursive = TRUE)
dirs <- list.dirs("~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/", full.names = TRUE, recursive = TRUE)
View(dirs)
dirs <- list.dirs("~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/*.csv", full.names = TRUE, recursive = TRUE)
dirs <- list.files("~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/", full.names = TRUE, recursive = TRUE)
View(dirs)
path_amb_dia <- "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/"
dirs <- list.files(path_amb_dia, full.names = TRUE, recursive = TRUE)
View(path_amb_dia)
path_amb_dia <- "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/"
dirs <- list.files(path_amb_dia, full.names = TRUE, recursive = TRUE)
for(i in 1:length(dirs)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
#mean <- mean(file$V4)
write.table(mean,file=paste("/dir",paste("mean",filename[i],sep="."),sep="/"))
##if you wish to write the means of all the files in seperate files rather than one.
}
filename <- dirs
for(i in 1:length(filename)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
#mean <- mean(file$V4)
write.table(mean,file=paste("/dir",paste("mean",filename[i],sep="."),sep="/"))
##if you wish to write the means of all the files in seperate files rather than one.
}
View(file)
for(i in 1:length(filename)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
View(file)
}
for(i in 1:length(filename)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
View(filename[i])
}
filename <- dirs
for(i in 1:length(filename)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
View(filename[i])
x <- readr::read_csv(caminho_CSV, col_types = cols(hora = col_character()))
g <- dplyr::group_by(x, data, h = substr(hora, 1, 2),
m = floor(as.numeric(substr(hora, 4, 5))/15))
gg <- dplyr::summarise(g, hora = dplyr::first(hora),
irradiacao = mean(irradiacao),
pm1_massa = mean(pm1_massa),
pm2_massa = mean(pm2_massa),
pm4_massa = mean(pm4_massa),
pm10_massa = mean(pm10_massa),
pm1_concentracao = mean(pm1_concentracao),
pm2_concentracao = mean(pm2_concentracao),
pm4_concentracao = mean(pm4_concentracao),
pm10_concentracao = mean(pm10_concentracao),
concentracao_media = mean(concentracao_media),
temperatura = mean(temperatura),
vento_dir=mean(vento_dir),
vento_vel=mean(vento_vel), n = dplyr::n())
y <- gg
y$h <- NULL
y$m <- NULL
write_csv(y,'~/Projeto/Tabelas_DynamoDB/ambientais_diarios_15min/Medias_AmbientaisCG.csv')
}
for(i in 1:length(filename)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
View(filename[i])
x <- readr::read_csv(filename[i], col_types = cols(hora = col_character()))
g <- dplyr::group_by(x, data, h = substr(hora, 1, 2),
m = floor(as.numeric(substr(hora, 4, 5))/15))
gg <- dplyr::summarise(g, hora = dplyr::first(hora),
irradiacao = mean(irradiacao),
pm1_massa = mean(pm1_massa),
pm2_massa = mean(pm2_massa),
pm4_massa = mean(pm4_massa),
pm10_massa = mean(pm10_massa),
pm1_concentracao = mean(pm1_concentracao),
pm2_concentracao = mean(pm2_concentracao),
pm4_concentracao = mean(pm4_concentracao),
pm10_concentracao = mean(pm10_concentracao),
concentracao_media = mean(concentracao_media),
temperatura = mean(temperatura),
vento_dir=mean(vento_dir),
vento_vel=mean(vento_vel), n = dplyr::n())
y <- gg
y$h <- NULL
y$m <- NULL
write_csv(y,'~/Projeto/Tabelas_DynamoDB/ambientais_diarios_15min/Medias_AmbientaisCG.csv')
}
filename <- dirs
for(i in 1:length(filename)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
View(filename[i])
x <- readr::read_csv(filename[i], col_types = cols(hora = col_character()))
g <- dplyr::group_by(x, data, h = substr(hora, 1, 2),
m = floor(as.numeric(substr(hora, 4, 5))/15))
gg <- dplyr::summarise(g, hora = dplyr::first(hora),
irradiacao = mean(irradiacao),
pm1_massa = mean(pm1_massa),
pm2_massa = mean(pm2_massa),
pm4_massa = mean(pm4_massa),
pm10_massa = mean(pm10_massa),
pm1_concentracao = mean(pm1_concentracao),
pm2_concentracao = mean(pm2_concentracao),
pm4_concentracao = mean(pm4_concentracao),
pm10_concentracao = mean(pm10_concentracao),
concentracao_media = mean(concentracao_media),
temperatura = mean(temperatura),
vento_dir=mean(vento_dir),
vento_vel=mean(vento_vel), n = dplyr::n())
y <- gg
y$h <- NULL
y$m <- NULL
result <- do.call("cbind", y)
}
caminho_CSV <- "~/Projeto/Tabelas_DynamoDB/ambientais_ufms_03_a_19_Out_2.csv"
write_csv(result,'~/Projeto/Tabelas_DynamoDB/ambientais_diarios_15min/Medias_AmbientaisCG.csv')
for(i in 1:length(filename)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
x <- readr::read_csv(filename[i], col_types = cols(hora = col_character()))
g <- dplyr::group_by(x, data, h = substr(hora, 1, 2),
m = floor(as.numeric(substr(hora, 4, 5))/15))
gg <- dplyr::summarise(g, hora = dplyr::first(hora),
irradiacao = mean(irradiacao),
pm1_massa = mean(pm1_massa),
pm2_massa = mean(pm2_massa),
pm4_massa = mean(pm4_massa),
pm10_massa = mean(pm10_massa),
pm1_concentracao = mean(pm1_concentracao),
pm2_concentracao = mean(pm2_concentracao),
pm4_concentracao = mean(pm4_concentracao),
pm10_concentracao = mean(pm10_concentracao),
concentracao_media = mean(concentracao_media),
temperatura = mean(temperatura),
vento_dir=mean(vento_dir),
vento_vel=mean(vento_vel), n = dplyr::n())
y <- gg
y$h <- NULL
y$m <- NULL
result <- lapply(y)
}
for(i in 1:length(filename)){
file <- read.table(filename[i],header=TRUE) ## if you have headers in your files ##
x <- readr::read_csv(filename[i], col_types = cols(hora = col_character()))
g <- dplyr::group_by(x, data, h = substr(hora, 1, 2),
m = floor(as.numeric(substr(hora, 4, 5))/15))
gg <- dplyr::summarise(g, hora = dplyr::first(hora),
irradiacao = mean(irradiacao),
pm1_massa = mean(pm1_massa),
pm2_massa = mean(pm2_massa),
pm4_massa = mean(pm4_massa),
pm10_massa = mean(pm10_massa),
pm1_concentracao = mean(pm1_concentracao),
pm2_concentracao = mean(pm2_concentracao),
pm4_concentracao = mean(pm4_concentracao),
pm10_concentracao = mean(pm10_concentracao),
concentracao_media = mean(concentracao_media),
temperatura = mean(temperatura),
vento_dir=mean(vento_dir),
vento_vel=mean(vento_vel), n = dplyr::n())
y <- gg
y$h <- NULL
y$m <- NULL
result <- lapply(y, FUN)
}
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
y2 = formatC(y, digits = 5, format = "f")
y <- gg
y$h <- NULL
y$m <- NULL
y2 = formatC(y, digits = 5, format = "f")
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
warning()
warnings()
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('~/Projeto/Tabelas_DynamoDB/RProject/media_15min.R')
source('C:/Users/LSCAD/Documents/Projeto/Tabelas_DynamoDB/RProject/media_15min_station.R')
library(dplyr)
library(magrittr)
library(readr)
library(stringr)
caminho_CSV <- "~/Projeto/Tabelas_DynamoDB/nodeJS/ambientais-cg-20191004.csv"
x <- readr::read_csv(caminho_CSV, col_types = cols(hora = col_character()))
g <- dplyr::group_by(x, data, h = substr(hora, 1, 2),
m = floor(as.numeric(substr(hora, 4, 5))/15))
gg <- dplyr::summarise(g, hora = dplyr::first(hora),
irradiacao = mean(irradiacao),
pm1_massa = mean(pm1_massa),
pm2_massa = mean(pm2_massa),
pm4_massa = mean(pm4_massa),
pm10_massa = mean(pm10_massa),
pm1_concentracao = mean(pm1_concentracao),
pm2_concentracao = mean(pm2_concentracao),
pm4_concentracao = mean(pm4_concentracao),
pm10_concentracao = mean(pm10_concentracao),
concentracao_media = mean(concentracao_media),
temperatura = mean(temperatura),
vento_dir=mean(vento_dir),
vento_vel=mean(vento_vel), n = dplyr::n())
x <- readr::read_csv(caminho_CSV, col_types = cols(hora = col_character()))
caminho_CSV <- "~/Projeto/Tabelas_DynamoDB/nodeJS/ambientais-cg-20191004.csv"
x <- readr::read_csv(caminho_CSV, col_types = cols(hora = col_character()))
cg
library(stringr)
caminho_CSV <- "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/ambientais-cg-20191004.csv"
x <- readr::read_csv(caminho_CSV, col_types = cols(hora = col_character()))
x <- readr::read_csv(caminho_CSV, col_types = cols(hora = col_character()))
caminho_csv <- read.csv("C:/Users/LSCAD/Documents/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/ambientais-cg-20191004.csv", header=FALSE)
View(caminho_csv)
ambientais.cg.20191004 <- read.csv("C:/Users/LSCAD/Documents/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/ambientais-cg-20191004.csv", header=FALSE)
View(ambientais.cg.20191004)
caminho_csv <- read.csv("C:/Users/LSCAD/Documents/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/ambientais-cg-20191004.csv", header=FALSE)
View(caminho_csv)
x <- readr::read_csv(caminho_CSV, col_types = cols(hora = col_character()))
caminho_CSV <- "~/Projeto/Tabelas_DynamoDB/ambientais_diarios_min/ambientais_ufms-20191004.csv"
x <- readr::read_csv(caminho_CSV, col_types = cols(hora = col_character()))
library(dplyr)
library(magrittr)
library(readr)
library("stringr")
library(plyr)
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
pathInv <- "D:/github/Tabelas_DynamoDB/inversor_diario_min/"
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  namesInv, sep = "")
pathSta <- "D:/github/Tabelas_DynamoDB/ambientais_diario_min/"
namesSta <- list.files(pattern = "*.csv")
filesSta <- paste(pathSta, namesSta, sep = "")
View(filesSta)
View(filesInv)
if (length(filesInv) > length(filesSta) || length(filesInv) == length(filesSta)){
qtdFiles <- length(namesInv)
}
if (length(filesInv) < length(filesSta)){
qtdFiles <- length(filesSta)
}
dfestacao <- filesSta[1]
dfinversor <- filesInv[1]
x <- readr::read_csv(dfestacao, col_types = cols(hora_minuto = col_character()))
y <- readr::read_csv(dfinversor, col_types = cols(hora_minuto = col_character()))
pathInv <- "D:/github/Tabelas_DynamoDB/inversor_diario_min/"
namesInv <- list.files(pattern = "*.csv")
library(dplyr)
library(magrittr)
library(readr)
library("stringr")
library(plyr)
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
library(dplyr)
library(magrittr)
library(readr)
library("stringr")
library(plyr)
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
namesSta <- list.files(pattern = "*.csv")
filesSta <- paste(pathSta, "/", namesSta, sep = "")
if (length(filesInv) > length(filesSta) || length(filesInv) == length(filesSta)){
qtdFiles <- length(namesInv)
}
if (length(filesInv) < length(filesSta)){
qtdFiles <- length(filesSta)
}
for(i in 1:qtdFiles){
dfestacao <- filesSta[1]
dfinversor <- filesInv[1]
x <- readr::read_csv(dfestacao, col_types = cols(hora_minuto = col_character()))
y <- readr::read_csv(dfinversor, col_types = cols(hora_minuto = col_character()))
z <- merge.data.frame(x = dfestacao, y = dfinversor)
jointdataset <- merge(x, y, by = c('dia_mes_ano','hora_minuto'))
jointdataset$P_DC = jointdataset$I_DC * jointdataset$V_DC
n.y <- NULL
n.x <- NULL
}
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
library(dplyr)
library(magrittr)
library(readr)
library("stringr")
library(plyr)
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_min/")
namesSta <- list.files(pattern = "*.csv")
filesSta <- paste(pathSta, "/", namesSta, sep = "")
if (length(filesInv) > length(filesSta) || length(filesInv) == length(filesSta)){
qtdFiles <- length(namesInv)
}
if (length(filesInv) < length(filesSta)){
qtdFiles <- length(filesSta)
}
dfestacao <- filesSta[1]
dfinversor <- filesInv[1]
x <- readr::read_csv(dfestacao, col_types = cols(hora_minuto = col_character()))
y <- readr::read_csv(dfinversor, col_types = cols(hora_minuto = col_character()))
z <- merge.data.frame(x = dfestacao, y = dfinversor)
jointdataset <- merge(x, y, by = c('dia_mes_ano','hora_minuto'))
jointdataset$P_DC = jointdataset$I_DC * jointdataset$V_DC
n.y <- NULL
n.x <- NULL
dia < x$dia_mes_ano
dia <- x$dia_mes_ano
dia <- x$dia_mes_ano[i]
dia <- x$dia_mes_ano[1]
pathDest <- "D:/github/Tabelas_DynamoDB/merge/"
dia <- jointdataset$dia_mes_ano[1]
pathDest <- "D:/github/Tabelas_DynamoDB/merge/"
fileDest <- paste(pathDest,  "Inv_Est_Merge_", dia, ".csv", sep = "")
write_csv(jointdataset, fileDest)
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
source('D:/github/Tabelas_DynamoDB/RProject/media_15min_inverter2_joinfiles.R')
source('D:/github/Tabelas_DynamoDB/RProject/media_15min_station2_joinfiles.R')
source('D:/github/Tabelas_DynamoDB/RProject/media_15min_station2_joinfiles.R')
source('D:/github/Tabelas_DynamoDB/RProject/media_15min_inverter2_joinfiles.R')
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
library(dplyr)
library(magrittr)
library(readr)
library("stringr")
library(plyr)
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_15min/")
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_15min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_15min/")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_15min/")
namesSta <- list.files(pattern = "*.csv")
filesSta <- paste(pathSta, "/", namesSta, sep = "")
if (length(filesInv) > length(filesSta) || length(filesInv) == length(filesSta)){
qtdFiles <- length(namesInv)
}
if (length(filesInv) < length(filesSta)){
qtdFiles <- length(filesSta)
}
for(i in 1:qtdFiles){
dfestacao <- filesSta[i]
dfinversor <- filesInv[i]
x <- readr::read_csv(dfestacao, col_types = cols(hora_minuto = col_character()))
y <- readr::read_csv(dfinversor, col_types = cols(hora_minuto = col_character()))
z <- merge.data.frame(x = dfestacao, y = dfinversor)
jointdataset <- merge(x, y, by = c('dia_mes_ano','hora_minuto'))
jointdataset$P_DC = jointdataset$I_DC * jointdataset$V_DC
jointdataset$P_DC <- round(jointdataset$P_DC, digits = 2)
dia <- jointdataset$dia_mes_ano[1]
n.y <- NULL
n.x <- NULL
# Inv_Est_Merge_dia.csv
pathDest <- "D:/github/Tabelas_DynamoDB/merge/"
fileDest <- paste(pathDest,  "Inv_Est_Merge_", dia, ".csv", sep = "")
write_csv(jointdataset, fileDest)
}
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
library(dplyr)
library(magrittr)
library(readr)
library("stringr")
library(plyr)
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_15min/")
pathInv <- setwd("D:/github/Tabelas_DynamoDB/inversor_diario_15min/")
namesInv <- list.files(pattern = "*.csv")
filesInv <- paste(pathInv,  "/", namesInv, sep = "")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_15min/")
pathSta <- setwd("D:/github/Tabelas_DynamoDB/ambientais_diario_15min/")
namesSta <- list.files(pattern = "*.csv")
filesSta <- paste(pathSta, "/", namesSta, sep = "")
if (length(filesInv) > length(filesSta) || length(filesInv) == length(filesSta)){
qtdFiles <- length(namesInv)
}
if (length(filesInv) < length(filesSta)){
qtdFiles <- length(filesSta)
}
for(i in 1:qtdFiles){
dfestacao <- filesSta[i]
dfinversor <- filesInv[i]
x <- readr::read_csv(dfestacao, col_types = cols(hora_minuto = col_character()))
y <- readr::read_csv(dfinversor, col_types = cols(hora_minuto = col_character()))
z <- merge.data.frame(x = dfestacao, y = dfinversor)
jointdataset <- merge(x, y, by = c('dia_mes_ano','hora_minuto'))
jointdataset$P_DC = jointdataset$I_DC * jointdataset$V_DC
jointdataset$P_DC <- round(jointdataset$P_DC, digits = 2)
dia <- jointdataset$dia_mes_ano[1]
n.y <- NULL
n.x <- NULL
# Inv_Est_Merge_dia.csv
pathDest <- "D:/github/Tabelas_DynamoDB/merge/"
fileDest <- paste(pathDest,  "Inv_Est_Merge_", dia, ".csv", sep = "")
write_csv(jointdataset, fileDest)
}
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
View(filesSta)
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
source('D:/github/Tabelas_DynamoDB/RProject/teste.R')
