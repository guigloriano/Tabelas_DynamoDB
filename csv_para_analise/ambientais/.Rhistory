testeDiasOK$DIA <- NULL
testeDiasOK$dia_mes_ano  <- parse_date_time(testeDiasOK$dia_mes_ano, orders = c("ymd", "dmy", "mdy"))
testeDiasOK$dia_mes_ano <- as.Date(testeDiasOK$dia_mes_ano)
testeDiasOK
diasOutubro <- testeDiasOK[1:8]
diasOutubro <- testeDiasOK[1:8,]
diasOutubro
View(diasOutubro)
diasOutubro <- testeDiasOK[1:8,]
diasNovembro <- testeDiasOK[9:33,]
diasDezembro <- testeDiasOK[34:39,]
diasJaneiro <- testeDiasOK[40:50,]
diasFevereiro <- testeDiasOK[51:66,]
diasMarco <- testeDiasOK[67:88,]
diasAbril <- testeDiasOK[89:105,]
grupoOut <- melt(data = diasOutubro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_teste <- ggplot(data = grupoOut , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
#  scale_x_continuous(breaks = 1*1:8) +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Outubro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_teste)
gf_predOut <- ggplot(data = grupoOut , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
#  scale_x_continuous(breaks = 1*1:8) +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Outubro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predOut)
grupoNov <- melt(data = diasNovembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predNov <- ggplot(data = grupoNov , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
#  scale_x_continuous(breaks = 1*1:8) +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Outubro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predNov)
grupoNov <- melt(data = diasNovembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predNov <- ggplot(data = grupoNov , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
#  scale_x_continuous(breaks = 1*1:8) +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predNov)
grupoDez <- melt(data = diasNovembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predDez <- ggplot(data = grupoDez , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
#  scale_x_continuous(breaks = 1*1:8) +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predDez)
grupoDez <- melt(data = diasDezembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predDez <- ggplot(data = grupoDez , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
#  scale_x_continuous(breaks = 1*1:8) +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predDez)
gf_predDez <- ggplot(data = grupoDez , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Dezembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predDez)
plot(gf_predNov)
plot(gf_predDez)
plot(gf_predNov)
plot(gf_predOut)
grupoNov <- melt(data = diasNovembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predNov <- ggplot(data = grupoNov , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predNov)
diasOutubro
diasOutubro$dia_mes_ano <- seq(as.Date("2019/10/1"), as.Date("2019/10/31"), "days")
diasOutubro <- numeric()
diasOutubro$dia_mes_ano <- seq(as.Date("2019/10/1"), as.Date("2019/10/31"), "days")
diasOutubro
View(diasNovembro)
View(diasOutubro)
diasOutubro$dia_mes_ano <- data.frame(seq(as.Date("2019/10/1"), as.Date("2019/10/31"), "days"))
diasOutubro <- numeric()
diasOutubro$dia_mes_ano <- data.frame(seq(as.Date("2019/10/1"), as.Date("2019/10/31"), "days"))
diasOutubro$dia_mes_ano
diasMes <- numeric()
diasMes <- seq(as.Date("2019/10/1"), as.Date("2019/10/31"), "days")
diasMes
diasMes <- data.frame("dia" = seq(as.Date("2019/10/1"), as.Date("2019/10/31"), "days"))
diasMes
diasOutubro
diasOutubro <- testeDiasOK[1:8,]
diasOutubro
diasOutubroAux <- merge(diasOutubro, diasMes, by.x = "dia_mes_ano",
by.y = "dia", all.x = TRUE, all.y = TRUE)
diasOutubroAux
View(diasOutubroAux)
diasOutubro[diasOutubro == NA] <- 0
diasOutubro <- merge(diasOutubro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasOutubro[diasOutubro == NA] <- 0
View(diasOutubro)
diasOutubro[is.na(diasOutubro] <- 0
diasOutubro[is.na(diasOutubro)] <- 0
View(diasOutubro)
grupoOut <- melt(data = diasOutubro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predOut <- ggplot(data = grupoOut , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Outubro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predOut)
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2019/11/1"), as.Date("2019/10/30"), "days"))
diasNovembro <- testeDiasOK[9:33,]
diasNovembro <- merge(diasNovembro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasNovembro[is.na(diasNovembro)] <- 0
grupoNov <- melt(data = diasNovembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predNov <- ggplot(data = grupoNov , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days")) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predNov)
gf_predNov <- ggplot(data = grupoNov , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predNov)
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2019/12/1"), as.Date("2019/12/31"), "days"))
diasDezembro <- testeDiasOK[34:39,]
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2019/12/1"), as.Date("2019/12/31"), "days"))
diasDezembro <- testeDiasOK[34:39,]
diasDezembro <- merge(diasDezembro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasDezembro[is.na(diasDezembro)] <- 0
grupoDez <- melt(data = diasDezembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predDez <- ggplot(data = grupoDez , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predDez)
diasJaneiro <- testeDiasOK[40:50,]
plot(gf_predNov)
plot(gf_predDez)
gf_predDez <- ggplot(data = grupoDez , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Dezembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predDez)
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2020/1/1"), as.Date("2019/1/31"), "days"))
diasMes <- numeric()
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2020/4/1"), as.Date("2019/4/30"), "days"))
diasMes <- data.frame("dia" = seq(as.Date("2020/04/01"), as.Date("2019/04/30"), "days"))
diasMes <- data.frame("dia" = seq(as.Date("2020/04/01"), as.Date("2020/04/30"), "days"))
diasAbril <- testeDiasOK[89:105,]
diasAbril <- merge(diasAbril, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasAbril[is.na(diasAbril)] <- 0
grupoAbr <- melt(data = diasAbril, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predAbr <- ggplot(data = grupoAbr , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Dezembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predAbr)
diasMes <- data.frame("dia" = seq(as.Date("2020/1/1"), as.Date("2020/1/31"), "days"))
diasJaneiro <- testeDiasOK[40:50,]
diasJaneiro <- merge(diasJaneiro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasJaneiro[is.na(diasJaneiro)] <- 0
grupoJan <- melt(data = diasJaneiro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predJan <- ggplot(data = grupoJan , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Dezembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predJan)
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2020/3/1"), as.Date("2020/3/31"), "days"))
diasMarco <- testeDiasOK[67:88,]
diasMarco <- merge(diasMarco, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasMarco[is.na(diasMarco)] <- 0
grupoMar <- melt(data = diasMarco, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predMar <- ggplot(data = grupoMar , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Dezembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predMar)
pathDest <- "C:\\Users\\Guilherme\\Desktop\\Enviar Ricardo\\dip_dio_mensal\\"
pathDest <- "C:\\Users\\Guilherme\\Desktop\\Enviar Ricardo\\dip_dio_mensal\\"
nome_arquivo <- paste ("1_Out19_energia.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2019/10/1"), as.Date("2019/10/31"), "days"))
diasOutubro <- testeDiasOK[1:8,]
diasOutubro <- merge(diasOutubro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasOutubro[is.na(diasOutubro)] <- 0
grupoOut <- melt(data = diasOutubro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predOut <- ggplot(data = grupoOut , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Outubro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predOut)
dev.off()
nome_arquivo <- paste ("2_Nov19_energia.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2019/11/1"), as.Date("2019/10/30"), "days"))
diasNovembro <- testeDiasOK[9:33,]
diasNovembro <- merge(diasNovembro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
nome_arquivo <- paste ("2_Nov19_energia.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
png(filename = fileDest, width = 720, height = 480, units = 'px')
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2019/11/1"), as.Date("2019/10/30"), "days"))
diasMes <- data.frame("dia" = seq(as.Date("2019/11/1"), as.Date("2019/11/30"), "days"))
diasNovembro <- testeDiasOK[9:33,]
diasNovembro <- merge(diasNovembro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasNovembro[is.na(diasNovembro)] <- 0
grupoNov <- melt(data = diasNovembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predNov <- ggplot(data = grupoNov , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Novembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predNov)
dev.off()
nome_arquivo <- paste ("3_Dez19_energia.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2019/12/1"), as.Date("2019/12/31"), "days"))
diasDezembro <- testeDiasOK[34:39,]
diasDezembro <- merge(diasDezembro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasDezembro[is.na(diasDezembro)] <- 0
grupoDez <- melt(data = diasDezembro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predDez <- ggplot(data = grupoDez , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Dezembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predDez)
dev.off()
nome_arquivo <- paste ("5_Jan20_energia.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2020/1/1"), as.Date("2020/1/31"), "days"))
diasJaneiro <- testeDiasOK[40:50,]
diasJaneiro <- merge(diasJaneiro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasJaneiro[is.na(diasJaneiro)] <- 0
grupoJan <- melt(data = diasJaneiro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predJan <- ggplot(data = grupoJan , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Janeiro/20") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predJan)
diasMes <- numeric()
nome_arquivo <- paste ("6_Fev20_energia.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2020/2/1"), as.Date("2020/1/29"), "days"))
diasFevereiro <- testeDiasOK[51:66,]
diasFevereiro <- merge(diasFevereiro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasMes <- data.frame("dia" = seq(as.Date("2020/2/1"), as.Date("2020/2/29"), "days"))
diasFevereiro <- testeDiasOK[51:66,]
diasFevereiro <- merge(diasFevereiro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasFevereiro[is.na(diasFevereiro)] <- 0
grupoFev <- melt(data = diasFevereiro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predFev <- ggplot(data = grupoFev , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Dezembro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predFev)
nome_arquivo <- paste ("6_Fev20_energia.png")
fileDest <- paste(pathDest, nome_arquivo, sep = "")
png(filename = fileDest, width = 720, height = 480, units = 'px')
diasMes <- numeric()
diasMes <- data.frame("dia" = seq(as.Date("2020/2/1"), as.Date("2020/2/29"), "days"))
diasFevereiro <- testeDiasOK[51:66,]
diasFevereiro <- merge(diasFevereiro, diasMes, by.x = "dia_mes_ano", by.y = "dia", all.x = TRUE, all.y = TRUE)
diasFevereiro[is.na(diasFevereiro)] <- 0
grupoFev <- melt(data = diasFevereiro, id.vars = "dia_mes_ano", measure.vars = c("DIP", "DIO"))
gf_predFev <- ggplot(data = grupoFev , aes(x=dia_mes_ano, y = value, fill = variable) ) +
geom_bar(stat="identity", position="dodge") +
scale_y_continuous(breaks = 50*0:900, name = "Energia") +
scale_x_date(name="Dia", labels = date_format("%d %b"), breaks = date_breaks("days"), expand = c(0,0)) +
theme(axis.title.y = element_text(hjust = 0.5, color = 'black', size=13),) +
#  theme_ipsum() +
ggtitle("Dias - Fevereiro/19") +
theme(axis.text.x = element_text(angle = 60))
plot(gf_predFev)
dev.off()
dia_nPM10 <- ggplot() +
geom_point(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
geom_line(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
labs(x = "Horário", y = "Concentração da Partícula [#/cm³]") +
ggtitle("Concentração Diária") +
scale_x_continuous(breaks = seq(10, 60, by = 10)) +
theme(text = element_text(size=20), axis.text.x = element_text(angle = 60))
library(dplyr)
library(readr)
library(stringr)
library(pracma)
library(compareDF)
library(lubridate)
library(chron)
library(scales)
library(lubridate)
library(gridExtra)
library(grid)
library(ggplot2)
library(lattice)
library(RColorBrewer)
library(patchwork) # To display 2 charts together
library(hrbrthemes)
library(quantmod)
require(tidyverse)
library(xts)
library(zoo)
library(reshape2)
dia_nPM10 <- ggplot() +
geom_point(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
geom_line(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
labs(x = "Horário", y = "Concentração da Partícula [#/cm³]") +
ggtitle("Concentração Diária") +
scale_x_continuous(breaks = seq(10, 60, by = 10)) +
theme(text = element_text(size=20), axis.text.x = element_text(angle = 60))
source('D:/github/Tabelas_DynamoDB/csv_para_analise/zz_novos_testes/00_graf_pm.R')
dia_nPM10 <- ggplot() +
geom_point(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
geom_line(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
labs(x = "Horário", y = "Concentração da Partícula [#/cm³]") +
ggtitle("Concentração Diária") +
scale_x_discrete(breaks = seq(10, 60, by = 10)) +
theme(text = element_text(size=20), axis.text.x = element_text(angle = 60))
#if (imprimir == 1){
if (1 == 1){
grid_dia <- grid.arrange(dia_nPM1, dia_nPM2, dia_nPM4, dia_nPM10,
ncol=2, nrow=2, top="Concentração Diária dos Particulados")
pathDest2 <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\gf_concent\\"
fileDest2 <- paste(pathDest2,  "Dia_", dataset$dia_mes_ano[1], ".png", sep = "")
png(filename = fileDest2, width = 1280, height = 720, units = 'px')
plot(grid_dia)
dev.off()
}
dia_nPM10 <- ggplot() +
geom_point(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
geom_line(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
labs(x = "Horário", y = "Concentração da Partícula [#/cm³]") +
ggtitle("Concentração Diária") +
scale_x_discrete(breaks = seq(000000, 2359000, by = 3000)) +
theme(text = element_text(size=20), axis.text.x = element_text(angle = 60))
0
grid_dia <- grid.arrange(dia_nPM1, dia_nPM2, dia_nPM4, dia_nPM10,
ncol=2, nrow=2, top="Concentração Diária dos Particulados")
pathDest2 <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\gf_concent\\"
fileDest2 <- paste(pathDest2,  "Dia_", dataset$dia_mes_ano[1], ".png", sep = "")
png(filename = fileDest2, width = 1280, height = 720, units = 'px')
plot(grid_dia)
dia_nPM10 <- ggplot() +
geom_point(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
geom_line(data = datasetDiario, aes(hora_minuto, numPM10, group = 4)) +
labs(x = "Horário", y = "Concentração da Partícula [#/cm³]") +
ggtitle("Concentração Diária") +
scale_x_discrete(breaks = seq(000000, 2359000, by = 2)) +
theme(text = element_text(size=20), axis.text.x = element_text(angle = 60))
#if (imprimir == 1){
if (1 == 1){
grid_dia <- grid.arrange(dia_nPM1, dia_nPM2, dia_nPM4, dia_nPM10,
ncol=2, nrow=2, top="Concentração Diária dos Particulados")
pathDest2 <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\gf_concent\\"
fileDest2 <- paste(pathDest2,  "Dia_", dataset$dia_mes_ano[1], ".png", sep = "")
png(filename = fileDest2, width = 1280, height = 720, units = 'px')
plot(grid_dia)
dev.off()
}
grid_dia <- grid.arrange(dia_nPM1, dia_nPM2, dia_nPM4, dia_nPM10,
ncol=2, nrow=2, top="Concentração Diária dos Particulados")
pathDest2 <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\gf_concent\\"
fileDest2 <- paste(pathDest2,  "Dia_", dataset$dia_mes_ano[1], ".png", sep = "")
png(filename = fileDest2, width = 1280, height = 720, units = 'px')
plot(grid_dia)
source('D:/github/Tabelas_DynamoDB/csv_para_analise/zz_novos_testes/00_graf_pm.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/zz_novos_testes/00_graf_pm.R')
# Grafico da Massa Acumulada LOG
###################################
gf_MassaAcc <- ggplot() +
geom_point(data = datasetMacc_aux, aes(newDate, m, group = 1)) +
geom_line(data = datasetMacc_aux, aes(newDate, m, group = 1)) +
scale_x_date(labels = date_format("%d %b"), breaks = date_breaks("week")) +
scale_y_log10()+
labs(x = "Dia", y = "Massa da Partícula Acumulada [ug/cm³]") +
ggtitle("Massa Diária") +
theme(axis.text.x = element_text(angle = 60))
pathDest <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\m_acc\\"
fileDest <- paste(pathDest,  "Graf_MassaACC_logTESTE.png", sep = "")
png(filename = fileDest, width = 800, height = 400, units = 'px')
plot(gf_MassaAcc)
#  datasetMacc_aux <- datasetMacc_aux[-c(1),]
write_csv(datasetMacc_aux,'D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\m_acc\\DatasetMassaAcc.csv')
#  datasetMacc2_aux <- datasetMacc2_aux[-c(1),]
write.csv(datasetMacc2_aux,'D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\m_acc\\DatasetMassaAcc2.csv')
datasetMacc_aux$newDate <- as.Date.character(datasetMacc_aux$dia, "%Y%m%d")
datasetMacc_aux <- datasetMacc_aux[-c(1),]
# Grafico da Massa Acumulada LOG
###################################
gf_MassaAcc <- ggplot() +
geom_point(data = datasetMacc_aux, aes(newDate, m, group = 1)) +
geom_line(data = datasetMacc_aux, aes(newDate, m, group = 1)) +
scale_x_date(labels = date_format("%d %b"), breaks = date_breaks("week")) +
scale_y_log10()+
labs(x = "Dia", y = "Massa da Partícula Acumulada [ug/cm³]") +
ggtitle("Massa Diária") +
theme(axis.text.x = element_text(angle = 60))
pathDest <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\m_acc\\"
fileDest <- paste(pathDest,  "Graf_MassaACC_logTESTE.png", sep = "")
png(filename = fileDest, width = 800, height = 400, units = 'px')
plot(gf_MassaAcc)
# Grafico da Massa Acumulada Linear
###################################
gf_MassaAcc <- ggplot() +
geom_point(data = datasetMacc_aux, aes(newDate, m, group = 1)) +
geom_line(data = datasetMacc_aux, aes(newDate, m, group = 1)) +
scale_x_date(labels = date_format("%d %b"), breaks = date_breaks("week")) +
labs(x = "Dia", y = "Massa da Partícula Acumulada [ug/cm³]") +
ggtitle("Massa Diária") +
theme(axis.text.x = element_text(angle = 60))
pathDest <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\zz_novos_testes\\m_acc\\"
fileDest <- paste(pathDest,  "Graf_MassaACC_linear.png", sep = "")
png(filename = fileDest, width = 1550, height = 720, units = 'px')
plot(gf_MassaAcc)
