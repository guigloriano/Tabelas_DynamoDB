source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
dataset <- bind_rows(dataset, tempLinha)
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
dataset
dataset$Data
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
dif_hora2
dataset$Data[linha_atual+1]
dataset
View(dataset)
View(dataset[[1]][[1]])
data <- dataset$Data[linha_atual]
data
tempLinha <-  data.frame(data, dia_mes_ano, hora_minuto, irr, massaPM1, massaPM2, numPM1, numPM2,
tamanho_medio, temp, vento_dir, vento_vel,
massaPM4, massaPM10, numPM4, numPM10, rainfall)
#dataset$Data <- NULL
dataset <- bind_rows(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
dataset$Data <- as.Date(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset$Data
dataset$Data <- as.Date(TempoAmostra, format = "%H:%M:%OS")
dataset$Data
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
library(chron)
library(chron)
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
install.packages("chron")
library(chron)
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
teste <- as.Date(TempoAmostra)
teste
TempoAmostra
TempoAmostra
subAno <- substring(dataset$dia_mes_ano, 1, 4)
subMes <- substring(dataset$dia_mes_ano, 5, 6)
subDia <- substring(dataset$dia_mes_ano, 7, 8)
dataset$hora_minuto <- str_pad(dataset$hora_minuto, 6, pad = "0")
subHora <- substring(dataset$hora_minuto, 1, 2)
subMin  <- substring(dataset$hora_minuto, 3, 4)
subSeg  <- substring(dataset$hora_minuto, 5, 6)
TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
TempoAmostra
library(dplyr)
library(readr)
library(stringr)
library(pracma)
library(compareDF)
library(lubridate)
library(chron)
caminhoDados <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\tabelas_teste\\amb\\"
caminhoCSV <- setwd(caminhoDados)
caminhoCSV <- setwd(caminhoDados)
listaDados <- list.files(pattern = "*.csv")
csvDados <- paste(caminhoCSV,  "/", listaDados, sep = "")
dias <- 1
amostras_geral <- c()
dataset <- readr::read_csv(listaDados[dias], col_types = cols(hora_minuto = col_character()))
dia <- dataset$dia_mes_ano[1]
amostras <- nrow(dataset)
linha_atual <- 1
amostras_faltantes <- c()
subAno <- substring(dataset$dia_mes_ano, 1, 4)
subMes <- substring(dataset$dia_mes_ano, 5, 6)
subDia <- substring(dataset$dia_mes_ano, 7, 8)
dataset$hora_minuto <- str_pad(dataset$hora_minuto, 6, pad = "0")
subHora <- substring(dataset$hora_minuto, 1, 2)
subMin  <- substring(dataset$hora_minuto, 3, 4)
subSeg  <- substring(dataset$hora_minuto, 5, 6)
TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
TempoAmostra
#  TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
TempoAmostra <- paste(subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$hora_minuto <- str_pad(dataset$hora_minuto, 6, pad = "0")
subHora <- substring(dataset$hora_minuto, 1, 2)
subMin  <- substring(dataset$hora_minuto, 3, 4)
subSeg  <- substring(dataset$hora_minuto, 5, 6)
subHora
#  TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
TempoAmostra <- paste(subHora, ":", subMin, ":", subSeg ,sep = "")
TempoAmostra
teste2 <- as.time(TempoAmostra)
teste2
TempoAmostra
teste2 <- as.time(TempoAmostra)
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
TempoAmostra
dataset$Data <- strptime(TempoAmostra, format = "%H:%M:%OS")
dataset$Data
#  TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset$Data
subAno <- substring(dataset$dia_mes_ano, 1, 4)
subMes <- substring(dataset$dia_mes_ano, 5, 6)
subDia <- substring(dataset$dia_mes_ano, 7, 8)
dataset$hora_minuto <- str_pad(dataset$hora_minuto, 6, pad = "0")
subHora <- substring(dataset$hora_minuto, 1, 2)
subMin  <- substring(dataset$hora_minuto, 3, 4)
subSeg  <- substring(dataset$hora_minuto, 5, 6)
#  TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
teste <- as.Date(TempoAmostra)
dataset <- dataset[, c(17, 1, 2, 3, 4, 5, 8, 9, 12, 13, 14, 15, 6, 7, 10, 11, 16)]
dataset
#  TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset
library(dplyr)
library(readr)
library(stringr)
library(pracma)
library(compareDF)
library(lubridate)
library(chron)
caminhoDados <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\tabelas_teste\\amb\\"
caminhoCSV <- setwd(caminhoDados)
caminhoCSV <- setwd(caminhoDados)
listaDados <- list.files(pattern = "*.csv")
csvDados <- paste(caminhoCSV,  "/", listaDados, sep = "")
dias <- 1
amostras_geral <- c()
dataset <- readr::read_csv(listaDados[dias], col_types = cols(hora_minuto = col_character()))
dia <- dataset$dia_mes_ano[1]
amostras <- nrow(dataset)
linha_atual <- 1
amostras_faltantes <- c()
subAno <- substring(dataset$dia_mes_ano, 1, 4)
subMes <- substring(dataset$dia_mes_ano, 5, 6)
subDia <- substring(dataset$dia_mes_ano, 7, 8)
dataset$hora_minuto <- str_pad(dataset$hora_minuto, 6, pad = "0")
subHora <- substring(dataset$hora_minuto, 1, 2)
subMin  <- substring(dataset$hora_minuto, 3, 4)
subSeg  <- substring(dataset$hora_minuto, 5, 6)
#  TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset <- dataset[, c(17, 1, 2, 3, 4, 5, 8, 9, 12, 13, 14, 15, 6, 7, 10, 11, 16)]
subSeg  <- substring(dataset$hora_minuto, 5, 6)
TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset <- dataset[, c(17, 1, 2, 3, 4, 5, 8, 9, 12, 13, 14, 15, 6, 7, 10, 11, 16)]
library(dplyr)
library(readr)
library(stringr)
library(pracma)
library(compareDF)
library(lubridate)
library(chron)
caminhoDados <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\tabelas_teste\\amb\\"
caminhoCSV <- setwd(caminhoDados)
caminhoCSV <- setwd(caminhoDados)
listaDados <- list.files(pattern = "*.csv")
csvDados <- paste(caminhoCSV,  "/", listaDados, sep = "")
dias <- 1
amostras_geral <- c()
for(dias in 1:1){
dataset <- readr::read_csv(listaDados[dias], col_types = cols(hora_minuto = col_character()))
dia <- dataset$dia_mes_ano[1]
amostras <- nrow(dataset)
linha_atual <- 1
amostras_faltantes <- c()
subAno <- substring(dataset$dia_mes_ano, 1, 4)
subMes <- substring(dataset$dia_mes_ano, 5, 6)
subDia <- substring(dataset$dia_mes_ano, 7, 8)
dataset$hora_minuto <- str_pad(dataset$hora_minuto, 6, pad = "0")
subHora <- substring(dataset$hora_minuto, 1, 2)
subMin  <- substring(dataset$hora_minuto, 3, 4)
subSeg  <- substring(dataset$hora_minuto, 5, 6)
TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset <- dataset[, c(17, 1, 2, 3, 4, 5, 8, 9, 12, 13, 14, 15, 6, 7, 10, 11, 16)]
if (amostras >= 1){
while (linha_atual < amostras-1){
dataset$hora_minuto <- as.numeric(dataset$hora_minuto)
#dif_hora <- dataset$hora_minuto[linha_atual+1] - dataset$hora_minuto[linha_atual]
dif_hora2 <- as.numeric(difftime(dataset$Data[linha_atual+1],dataset$Data[linha_atual]))
amostras_faltantes_aux <- c()
if ( dif_hora2 > 1 )
{
amostras_faltantes_aux$dia <- dataset$dia_mes_ano[linha_atual]
amostras_faltantes_aux$hora <- dataset$hora_minuto[linha_atual]
amostras_faltantes_aux$hora_1 <- dataset$hora_minuto[linha_atual+1]
amostras_faltantes_aux$amostras <- amostras
amostras_faltantes_aux$linha <- linha_atual
amostras_faltantes_aux$diferenca <- dif_hora2
}
#amostras_faltantes <- rbind(amostras_faltantes, amostras_faltantes_aux)
amostras_faltantes <- bind_rows(amostras_faltantes, amostras_faltantes_aux)
if (dif_hora2 > 1){
#amostras <- amostras+1
data <- dataset$Data[linha_atual]
dia_mes_ano = dataset$dia_mes_ano[1]
hora_minuto = dataset$hora_minuto[linha_atual]+1
irr=        round ((dataset$irr[linha_atual]+dataset$irr[linha_atual+1])/2, digits = 2)
massaPM1 =  round ((dataset$massaPM1[linha_atual]+dataset$massaPM1[linha_atual+1])/2, digits = 2)
massaPM2 =  round ((dataset$massaPM2[linha_atual]+dataset$massaPM2[linha_atual+1])/2, digits = 2)
massaPM4 =  round ((dataset$massaPM4[linha_atual]+dataset$massaPM4[linha_atual+1])/2, digits = 2)
massaPM10 = round ((dataset$massaPM10[linha_atual]+dataset$massaPM10[linha_atual+1])/2, digits = 2)
numPM1 =    round ((dataset$numPM1[linha_atual]+dataset$numPM1[linha_atual+1])/2, digits = 2)
numPM2 =    round ((dataset$numPM2[linha_atual]+dataset$numPM2[linha_atual+1])/2, digits = 2)
numPM4 =    round ((dataset$numPM4[linha_atual]+dataset$numPM4[linha_atual+1])/2, digits = 2)
numPM10 =   round ((dataset$numPM10[linha_atual]+dataset$numPM10[linha_atual+1])/2, digits = 2)
tamanho_medio = round ((dataset$tamanho_medio[linha_atual]+dataset$tamanho_medio[linha_atual+1])/2, digits = 2)
temp =      round ((dataset$temp[linha_atual]+dataset$temp[linha_atual+1])/2, digits = 2)
vento_dir = round ((dataset$vento_dir[linha_atual]+dataset$vento_dir[linha_atual+1])/2, digits = 2)
vento_vel = round ((dataset$vento_vel[linha_atual]+dataset$vento_vel[linha_atual+1])/2, digits = 2)
rainfall =  round ((dataset$rainfall[linha_atual]+dataset$rainfall[linha_atual+1])/2, digits = 2)
tempLinha <-  data.frame(data, dia_mes_ano, hora_minuto, irr, massaPM1, massaPM2, numPM1, numPM2,
tamanho_medio, temp, vento_dir, vento_vel,
massaPM4, massaPM10, numPM4, numPM10, rainfall)
#dataset$Data <- NULL
dataset <- bind_rows(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
}
linha_atual<-linha_atual+1
}
amostras_geral <- rbind(amostras_geral, amostras_faltantes)
}
# caminho para salvar os dados interpolados da estação de sujidade
caminho_salvar <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\tabelas_teste\\amb\\interpoladas\\"
fileDest <- paste(caminho_salvar,  "/amb_inter_", dia, ".csv", sep = "")
write.csv(dataset, fileDest)
}
library(dplyr)
library(readr)
library(stringr)
library(pracma)
library(compareDF)
library(lubridate)
library(chron)
caminhoDados <- "D:\\github\\Tabelas_DynamoDB\\csv_para_analise\\tabelas_teste\\amb\\"
caminhoCSV <- setwd(caminhoDados)
caminhoCSV <- setwd(caminhoDados)
listaDados <- list.files(pattern = "*.csv")
csvDados <- paste(caminhoCSV,  "/", listaDados, sep = "")
dias <- 1
amostras_geral <- c()
dataset <- readr::read_csv(listaDados[dias], col_types = cols(hora_minuto = col_character()))
dia <- dataset$dia_mes_ano[1]
amostras <- nrow(dataset)
linha_atual <- 1
amostras_faltantes <- c()
subAno <- substring(dataset$dia_mes_ano, 1, 4)
subMes <- substring(dataset$dia_mes_ano, 5, 6)
subDia <- substring(dataset$dia_mes_ano, 7, 8)
dataset$hora_minuto <- str_pad(dataset$hora_minuto, 6, pad = "0")
subHora <- substring(dataset$hora_minuto, 1, 2)
subMin  <- substring(dataset$hora_minuto, 3, 4)
subSeg  <- substring(dataset$hora_minuto, 5, 6)
TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset <- dataset[, c(17, 1, 2, 3, 4, 5, 8, 9, 12, 13, 14, 15, 6, 7, 10, 11, 16)]
dataset
dataset
dataset$hora_minuto <- as.numeric(dataset$hora_minuto)
#dif_hora <- dataset$hora_minuto[linha_atual+1] - dataset$hora_minuto[linha_atual]
dif_hora2 <- as.numeric(difftime(dataset$Data[linha_atual+1],dataset$Data[linha_atual]))
amostras_faltantes_aux <- c()
if ( dif_hora2 > 1 )
{
amostras_faltantes_aux$dia <- dataset$dia_mes_ano[linha_atual]
amostras_faltantes_aux$hora <- dataset$hora_minuto[linha_atual]
amostras_faltantes_aux$hora_1 <- dataset$hora_minuto[linha_atual+1]
amostras_faltantes_aux$amostras <- amostras
amostras_faltantes_aux$linha <- linha_atual
amostras_faltantes_aux$diferenca <- dif_hora2
}
#amostras_faltantes <- rbind(amostras_faltantes, amostras_faltantes_aux)
amostras_faltantes <- bind_rows(amostras_faltantes, amostras_faltantes_aux)
if (dif_hora2 > 1){
#amostras <- amostras+1
data <- dataset$Data[linha_atual]
dia_mes_ano = dataset$dia_mes_ano[1]
hora_minuto = dataset$hora_minuto[linha_atual]+1
irr=        round ((dataset$irr[linha_atual]+dataset$irr[linha_atual+1])/2, digits = 2)
massaPM1 =  round ((dataset$massaPM1[linha_atual]+dataset$massaPM1[linha_atual+1])/2, digits = 2)
massaPM2 =  round ((dataset$massaPM2[linha_atual]+dataset$massaPM2[linha_atual+1])/2, digits = 2)
massaPM4 =  round ((dataset$massaPM4[linha_atual]+dataset$massaPM4[linha_atual+1])/2, digits = 2)
massaPM10 = round ((dataset$massaPM10[linha_atual]+dataset$massaPM10[linha_atual+1])/2, digits = 2)
numPM1 =    round ((dataset$numPM1[linha_atual]+dataset$numPM1[linha_atual+1])/2, digits = 2)
numPM2 =    round ((dataset$numPM2[linha_atual]+dataset$numPM2[linha_atual+1])/2, digits = 2)
numPM4 =    round ((dataset$numPM4[linha_atual]+dataset$numPM4[linha_atual+1])/2, digits = 2)
numPM10 =   round ((dataset$numPM10[linha_atual]+dataset$numPM10[linha_atual+1])/2, digits = 2)
tamanho_medio = round ((dataset$tamanho_medio[linha_atual]+dataset$tamanho_medio[linha_atual+1])/2, digits = 2)
temp =      round ((dataset$temp[linha_atual]+dataset$temp[linha_atual+1])/2, digits = 2)
vento_dir = round ((dataset$vento_dir[linha_atual]+dataset$vento_dir[linha_atual+1])/2, digits = 2)
vento_vel = round ((dataset$vento_vel[linha_atual]+dataset$vento_vel[linha_atual+1])/2, digits = 2)
rainfall =  round ((dataset$rainfall[linha_atual]+dataset$rainfall[linha_atual+1])/2, digits = 2)
tempLinha <-  data.frame(data, dia_mes_ano, hora_minuto, irr, massaPM1, massaPM2, numPM1, numPM2,
tamanho_medio, temp, vento_dir, vento_vel,
massaPM4, massaPM10, numPM4, numPM10, rainfall)
#dataset$Data <- NULL
dataset <- bind_rows(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
}
linha_atual<-linha_atual+1
while (linha_atual < amostras-1){
dataset$hora_minuto <- as.numeric(dataset$hora_minuto)
#dif_hora <- dataset$hora_minuto[linha_atual+1] - dataset$hora_minuto[linha_atual]
dif_hora2 <- as.numeric(difftime(dataset$Data[linha_atual+1],dataset$Data[linha_atual]))
amostras_faltantes_aux <- c()
if ( dif_hora2 > 1 )
{
amostras_faltantes_aux$dia <- dataset$dia_mes_ano[linha_atual]
amostras_faltantes_aux$hora <- dataset$hora_minuto[linha_atual]
amostras_faltantes_aux$hora_1 <- dataset$hora_minuto[linha_atual+1]
amostras_faltantes_aux$amostras <- amostras
amostras_faltantes_aux$linha <- linha_atual
amostras_faltantes_aux$diferenca <- dif_hora2
}
#amostras_faltantes <- rbind(amostras_faltantes, amostras_faltantes_aux)
amostras_faltantes <- bind_rows(amostras_faltantes, amostras_faltantes_aux)
if (dif_hora2 > 1){
#amostras <- amostras+1
data <- dataset$Data[linha_atual]
dia_mes_ano = dataset$dia_mes_ano[1]
hora_minuto = dataset$hora_minuto[linha_atual]+1
irr=        round ((dataset$irr[linha_atual]+dataset$irr[linha_atual+1])/2, digits = 2)
massaPM1 =  round ((dataset$massaPM1[linha_atual]+dataset$massaPM1[linha_atual+1])/2, digits = 2)
massaPM2 =  round ((dataset$massaPM2[linha_atual]+dataset$massaPM2[linha_atual+1])/2, digits = 2)
massaPM4 =  round ((dataset$massaPM4[linha_atual]+dataset$massaPM4[linha_atual+1])/2, digits = 2)
massaPM10 = round ((dataset$massaPM10[linha_atual]+dataset$massaPM10[linha_atual+1])/2, digits = 2)
numPM1 =    round ((dataset$numPM1[linha_atual]+dataset$numPM1[linha_atual+1])/2, digits = 2)
numPM2 =    round ((dataset$numPM2[linha_atual]+dataset$numPM2[linha_atual+1])/2, digits = 2)
numPM4 =    round ((dataset$numPM4[linha_atual]+dataset$numPM4[linha_atual+1])/2, digits = 2)
numPM10 =   round ((dataset$numPM10[linha_atual]+dataset$numPM10[linha_atual+1])/2, digits = 2)
tamanho_medio = round ((dataset$tamanho_medio[linha_atual]+dataset$tamanho_medio[linha_atual+1])/2, digits = 2)
temp =      round ((dataset$temp[linha_atual]+dataset$temp[linha_atual+1])/2, digits = 2)
vento_dir = round ((dataset$vento_dir[linha_atual]+dataset$vento_dir[linha_atual+1])/2, digits = 2)
vento_vel = round ((dataset$vento_vel[linha_atual]+dataset$vento_vel[linha_atual+1])/2, digits = 2)
rainfall =  round ((dataset$rainfall[linha_atual]+dataset$rainfall[linha_atual+1])/2, digits = 2)
tempLinha <-  data.frame(data, dia_mes_ano, hora_minuto, irr, massaPM1, massaPM2, numPM1, numPM2,
tamanho_medio, temp, vento_dir, vento_vel,
massaPM4, massaPM10, numPM4, numPM10, rainfall)
#dataset$Data <- NULL
dataset <- bind_rows(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
}
linha_atual<-linha_atual+1
}
amostras_geral <- rbind(amostras_geral, amostras_faltantes)
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
amostras_geral <- rbind(amostras_geral, amostras_faltantes)
#dataset$Data <- NULL
dataset <- bind_rows(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
#dataset$Data <- NULL
dataset <- cbind(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
tempLinha
dataset
#dataset$Data <- NULL
dataset <- rbind(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
#dataset$Data <- NULL
dataset <- rbind(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
tempLinha <-  data.frame(data, dia_mes_ano, hora_minuto, irr, massaPM1, massaPM2, numPM1, numPM2,
tamanho_medio, temp, vento_dir, vento_vel,
massaPM4, massaPM10, numPM4, numPM10, rainfall)
#dataset$Data <- NULL
dataset <- rbind(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
dataset
tempLinha
Data <- dataset$Data[linha_atual]
dia_mes_ano = dataset$dia_mes_ano[1]
hora_minuto = dataset$hora_minuto[linha_atual]+1
irr=        round ((dataset$irr[linha_atual]+dataset$irr[linha_atual+1])/2, digits = 2)
massaPM1 =  round ((dataset$massaPM1[linha_atual]+dataset$massaPM1[linha_atual+1])/2, digits = 2)
massaPM2 =  round ((dataset$massaPM2[linha_atual]+dataset$massaPM2[linha_atual+1])/2, digits = 2)
massaPM4 =  round ((dataset$massaPM4[linha_atual]+dataset$massaPM4[linha_atual+1])/2, digits = 2)
massaPM10 = round ((dataset$massaPM10[linha_atual]+dataset$massaPM10[linha_atual+1])/2, digits = 2)
numPM1 =    round ((dataset$numPM1[linha_atual]+dataset$numPM1[linha_atual+1])/2, digits = 2)
numPM2 =    round ((dataset$numPM2[linha_atual]+dataset$numPM2[linha_atual+1])/2, digits = 2)
numPM4 =    round ((dataset$numPM4[linha_atual]+dataset$numPM4[linha_atual+1])/2, digits = 2)
numPM10 =   round ((dataset$numPM10[linha_atual]+dataset$numPM10[linha_atual+1])/2, digits = 2)
tamanho_medio = round ((dataset$tamanho_medio[linha_atual]+dataset$tamanho_medio[linha_atual+1])/2, digits = 2)
temp =      round ((dataset$temp[linha_atual]+dataset$temp[linha_atual+1])/2, digits = 2)
vento_dir = round ((dataset$vento_dir[linha_atual]+dataset$vento_dir[linha_atual+1])/2, digits = 2)
vento_vel = round ((dataset$vento_vel[linha_atual]+dataset$vento_vel[linha_atual+1])/2, digits = 2)
rainfall =  round ((dataset$rainfall[linha_atual]+dataset$rainfall[linha_atual+1])/2, digits = 2)
tempLinha <-  data.frame(Data, dia_mes_ano, hora_minuto, irr, massaPM1, massaPM2, numPM1, numPM2,
tamanho_medio, temp, vento_dir, vento_vel,
massaPM4, massaPM10, numPM4, numPM10, rainfall)
#dataset$Data <- NULL
dataset <- rbind(dataset[1:linha_atual,],tempLinha,dataset[-(1:linha_atual),])
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
Data
hora_minuto = Data+1
hora_minuto
hora_minuto = Data+120
hora_minuto
teste3aux <- substring(Data,10, 11)
teste3aux
teste3aux <- substring(Data,12, 13)
teste3aux
Data <- dataset$Data[linha_atual]
dia_mes_ano = dataset$dia_mes_ano[1]
hora_minuto = Data+120
teste3aux <- substring(Data, 12, 13)
teste4aux <- substring(Data, 15, 16)
teste5aux <- substring(Data, 18, 19)
AuxFinal <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
AuxFinal
AuxFinal <- paste(teste3aux, teste4aux, teste5aux, sep = "")
AuxFinal
HoraAux
HoraAux <- paste(teste3aux, teste4aux, teste5aux, sep = "")
HoraAux
hora_minuto <- paste(teste3aux, teste4aux, teste5aux, sep = "")
hora_minuto
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
amostras_faltantes_aux <- c()
amostras_faltantes <- c()
dif_hora2
linha_atual
Data
dataset$Data
TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
subSeg  <- substring(dataset$hora_minuto, 5, 6)
TempoAmostra <- paste(subAno, "-", subMes, "-", subDia, " " ,subHora, ":", subMin, ":", subSeg ,sep = "")
dataset$Data <- strptime(TempoAmostra, format = "%Y-%m-%d %H:%M:%OS")
dataset <- dataset[, c(17, 1, 2, 3, 4, 5, 8, 9, 12, 13, 14, 15, 6, 7, 10, 11, 16)]
dataset
dataset$Data
TempoAmostra
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
View(amostras_geral)
dataset$Data
Data
Data
Data
hora_minuto
tempLinha
dataset[1:linha_atual,]
dataset[-(1:linha_atual),]
}
dataset <- rbind(dataset[1:linha_atual, ], tempLinha, dataset[linha_atual+1:nrow(dataset), ])
dataset
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
View(amostras_faltantes)
amostras_faltantes_aux$dia
dif_hora2
dif_hora2
hora_minuto
teste3aux
teste4aux
dataset$Data[linha_atual]
Data <- dataset$Data[linha_atual]
dia_mes_ano = dataset$dia_mes_ano[1]
hora_minuto = Data+120
hora_minuto
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
Data
Data
hora_minuto = Data+60
hora_minuto
teste3aux <- substring(Data, 12, 13)
teste4aux <- substring(Data, 15, 16)
teste5aux <- substring(Data, 18, 19)
hora_minuto <- paste(teste3aux, teste4aux, teste5aux, sep = "")
hora_minuto
hora_minuto
Data <- dataset$Data[linha_atual]
dia_mes_ano = dataset$dia_mes_ano[1]
hora_minuto = Data+60
Data
dia_mes_ano
hora_minuto
teste3aux <- substring(Data, 12, 13)
teste4aux <- substring(Data, 15, 16)
teste5aux <- substring(Data, 18, 19)
teste3aux
teste4aux
hora_minuto
teste3aux <- substring(hora_minuto, 12, 13)
teste4aux <- substring(hora_minuto, 15, 16)
teste5aux <- substring(hora_minuto, 18, 19)
hora_minuto <- paste(teste3aux, teste4aux, teste5aux, sep = "")
hora_minuto
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
dataset <- na.omit(dataset)
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
Data
Data = Data + 60
Data
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
amostras
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
source('D:/github/Tabelas_DynamoDB/csv_para_analise/05_interpola_teste.R')
